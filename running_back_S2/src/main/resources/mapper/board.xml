<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.korit.running_back_s2.domain.board.BoardMapper">

    <resultMap id="BoardMap" type="com.korit.running_back_s2.domain.board.FreeBoard">
        <id     property="freeId"         column="free_id"/>
        <result property="crewId"           column="crew_id"/>
        <result property="userId"   column="user_id"/>
        <result property="title" column="title"/>
        <result property="content"           column="content"/>
        <result property="createdAt"        column="created_at"/>
        <association property="user" resultMap="UserMap" />
    </resultMap>

    <resultMap id="UserMap" type="User" >
        <id property="userId" column="user_id" />
        <result property="oauthType"                column="oauth_type" />
        <result property="providerId"               column="provider_id" />
        <result property="email"                    column="email" />
        <result property="picture"                  column="picture" />
        <result property="fullName"                 column="full_name" />
        <result property="nickname"                 column="nickname" />
        <result property="phoneNumber"              column="phone_number" />
        <result property="gunguId"                  column="gungu_id" />
        <result property="address"                  column="address" />
        <result property="birthDate"                column="birth_date" />
        <result property="gender"                   column="gender" />
        <result property="totalKm"                  column="total_km" />
    </resultMap>

    <insert id="insert" keyProperty="freeId" useGeneratedKeys="true">
        insert into crew_free_tb
        (crew_id, user_id, title, content)
        values (#{crewId}, #{userId}, #{title}, #{content})
    </insert>


</mapper>
